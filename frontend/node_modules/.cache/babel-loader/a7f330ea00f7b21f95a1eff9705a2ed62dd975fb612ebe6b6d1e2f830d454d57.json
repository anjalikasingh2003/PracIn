{"ast":null,"code":"var _jsxFileName = \"/home/anjalika/PracIn/frontend/src/components/ChatBot.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport '../styles/ChatBot.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ChatBot({\n  darkMode\n}) {\n  _s();\n  const [messages, setMessages] = useState([{\n    sender: 'bot',\n    text: 'Hi! I‚Äôm your FAANG DSA interviewer üë®‚Äçüíª. Let‚Äôs start when you‚Äôre ready.'\n  }]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, loading]);\n  const handleSend = async () => {\n    if (!input.trim()) return;\n    const newUserMessage = {\n      sender: 'user',\n      text: input\n    };\n    const newMessages = [...messages, newUserMessage];\n    setMessages(newMessages);\n    setInput('');\n    setLoading(true);\n    try {\n      const payload = {\n        messages: newMessages.map(msg => ({\n          role: msg.sender === 'bot' ? 'assistant' : 'user',\n          content: msg.text\n        }))\n      };\n      const res = await axios.post('http://localhost:5000/ask', payload);\n      const botResponse = {\n        sender: 'bot',\n        text: res.data.content\n      };\n      setMessages(prev => [...prev, botResponse]);\n    } catch (err) {\n      console.error(err);\n      setMessages(prev => [...prev, {\n        sender: 'bot',\n        text: '‚ùå Failed to get response. Try again later.'\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `chatbot-container ${darkMode ? 'dark' : 'light'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-messages\",\n      children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `chat-bubble ${msg.sender}`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bubble\",\n          children: msg.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-bubble bot\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bubble\",\n          children: \"\\uD83D\\uDCAD Thinking...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-input\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        rows: \"1\",\n        value: input,\n        onChange: e => setInput(e.target.value),\n        onKeyDown: e => e.key === 'Enter' && !e.shiftKey && (e.preventDefault(), handleSend()),\n        placeholder: \"Type your message...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSend,\n        children: \"\\u27A4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatBot, \"D9CappKSnzzrKeyH9bldWbH9yNI=\");\n_c = ChatBot;\nexport default ChatBot;\nvar _c;\n$RefreshReg$(_c, \"ChatBot\");","map":{"version":3,"names":["React","useState","useRef","useEffect","axios","jsxDEV","_jsxDEV","ChatBot","darkMode","_s","messages","setMessages","sender","text","input","setInput","loading","setLoading","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSend","trim","newUserMessage","newMessages","payload","map","msg","role","content","res","post","botResponse","data","prev","err","console","error","className","children","index","fileName","_jsxFileName","lineNumber","columnNumber","ref","rows","value","onChange","e","target","onKeyDown","key","shiftKey","preventDefault","placeholder","onClick","_c","$RefreshReg$"],"sources":["/home/anjalika/PracIn/frontend/src/components/ChatBot.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport axios from 'axios';\nimport '../styles/ChatBot.css';\n\nfunction ChatBot({ darkMode }) {\n  const [messages, setMessages] = useState([\n    { sender: 'bot', text: 'Hi! I‚Äôm your FAANG DSA interviewer üë®‚Äçüíª. Let‚Äôs start when you‚Äôre ready.' }\n  ]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const messagesEndRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, loading]);\n\n  const handleSend = async () => {\n    if (!input.trim()) return;\n\n    const newUserMessage = { sender: 'user', text: input };\n    const newMessages = [...messages, newUserMessage];\n    setMessages(newMessages);\n    setInput('');\n    setLoading(true);\n\n    try {\n      const payload = {\n        messages: newMessages.map((msg) => ({\n          role: msg.sender === 'bot' ? 'assistant' : 'user',\n          content: msg.text,\n        })),\n      };\n\n      const res = await axios.post('http://localhost:5000/ask', payload);\n\n      const botResponse = {\n        sender: 'bot',\n        text: res.data.content,\n      };\n\n      setMessages((prev) => [...prev, botResponse]);\n    } catch (err) {\n      console.error(err);\n      setMessages((prev) => [...prev, { sender: 'bot', text: '‚ùå Failed to get response. Try again later.' }]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className={`chatbot-container ${darkMode ? 'dark' : 'light'}`}>\n      <div className=\"chat-messages\">\n        {messages.map((msg, index) => (\n          <div key={index} className={`chat-bubble ${msg.sender}`}>\n            <div className=\"bubble\">{msg.text}</div>\n          </div>\n        ))}\n        {loading && (\n          <div className=\"chat-bubble bot\">\n            <div className=\"bubble\">üí≠ Thinking...</div>\n          </div>\n        )}\n        <div ref={messagesEndRef} />\n      </div>\n\n      <div className=\"chat-input\">\n        <textarea\n          rows=\"1\"\n          value={input}\n          onChange={(e) => setInput(e.target.value)}\n          onKeyDown={(e) => e.key === 'Enter' && !e.shiftKey && (e.preventDefault(), handleSend())}\n          placeholder=\"Type your message...\"\n        />\n        <button onClick={handleSend}>‚û§</button>\n      </div>\n    </div>\n  );\n}\n\nexport default ChatBot;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/B,SAASC,OAAOA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EAC7B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,CACvC;IAAEW,MAAM,EAAE,KAAK;IAAEC,IAAI,EAAE;EAA2E,CAAC,CACpG,CAAC;EACF,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACe,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAMiB,cAAc,GAAGhB,MAAM,CAAC,IAAI,CAAC;EAEnC,MAAMiB,cAAc,GAAGA,CAAA,KAAM;IAAA,IAAAC,qBAAA;IAC3B,CAAAA,qBAAA,GAAAF,cAAc,CAACG,OAAO,cAAAD,qBAAA,uBAAtBA,qBAAA,CAAwBE,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAChE,CAAC;EAEDpB,SAAS,CAAC,MAAM;IACdgB,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,CAACT,QAAQ,EAAEM,OAAO,CAAC,CAAC;EAEvB,MAAMQ,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACV,KAAK,CAACW,IAAI,CAAC,CAAC,EAAE;IAEnB,MAAMC,cAAc,GAAG;MAAEd,MAAM,EAAE,MAAM;MAAEC,IAAI,EAAEC;IAAM,CAAC;IACtD,MAAMa,WAAW,GAAG,CAAC,GAAGjB,QAAQ,EAAEgB,cAAc,CAAC;IACjDf,WAAW,CAACgB,WAAW,CAAC;IACxBZ,QAAQ,CAAC,EAAE,CAAC;IACZE,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAI;MACF,MAAMW,OAAO,GAAG;QACdlB,QAAQ,EAAEiB,WAAW,CAACE,GAAG,CAAEC,GAAG,KAAM;UAClCC,IAAI,EAAED,GAAG,CAAClB,MAAM,KAAK,KAAK,GAAG,WAAW,GAAG,MAAM;UACjDoB,OAAO,EAAEF,GAAG,CAACjB;QACf,CAAC,CAAC;MACJ,CAAC;MAED,MAAMoB,GAAG,GAAG,MAAM7B,KAAK,CAAC8B,IAAI,CAAC,2BAA2B,EAAEN,OAAO,CAAC;MAElE,MAAMO,WAAW,GAAG;QAClBvB,MAAM,EAAE,KAAK;QACbC,IAAI,EAAEoB,GAAG,CAACG,IAAI,CAACJ;MACjB,CAAC;MAEDrB,WAAW,CAAE0B,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAEF,WAAW,CAAC,CAAC;IAC/C,CAAC,CAAC,OAAOG,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;MAClB3B,WAAW,CAAE0B,IAAI,IAAK,CAAC,GAAGA,IAAI,EAAE;QAAEzB,MAAM,EAAE,KAAK;QAAEC,IAAI,EAAE;MAA6C,CAAC,CAAC,CAAC;IACzG,CAAC,SAAS;MACRI,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACEX,OAAA;IAAKmC,SAAS,EAAE,qBAAqBjC,QAAQ,GAAG,MAAM,GAAG,OAAO,EAAG;IAAAkC,QAAA,gBACjEpC,OAAA;MAAKmC,SAAS,EAAC,eAAe;MAAAC,QAAA,GAC3BhC,QAAQ,CAACmB,GAAG,CAAC,CAACC,GAAG,EAAEa,KAAK,kBACvBrC,OAAA;QAAiBmC,SAAS,EAAE,eAAeX,GAAG,CAAClB,MAAM,EAAG;QAAA8B,QAAA,eACtDpC,OAAA;UAAKmC,SAAS,EAAC,QAAQ;UAAAC,QAAA,EAAEZ,GAAG,CAACjB;QAAI;UAAA+B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM;MAAC,GADhCJ,KAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEV,CACN,CAAC,EACD/B,OAAO,iBACNV,OAAA;QAAKmC,SAAS,EAAC,iBAAiB;QAAAC,QAAA,eAC9BpC,OAAA;UAAKmC,SAAS,EAAC,QAAQ;UAAAC,QAAA,EAAC;QAAc;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzC,CACN,eACDzC,OAAA;QAAK0C,GAAG,EAAE9B;MAAe;QAAA0B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzB,CAAC,eAENzC,OAAA;MAAKmC,SAAS,EAAC,YAAY;MAAAC,QAAA,gBACzBpC,OAAA;QACE2C,IAAI,EAAC,GAAG;QACRC,KAAK,EAAEpC,KAAM;QACbqC,QAAQ,EAAGC,CAAC,IAAKrC,QAAQ,CAACqC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QAC1CI,SAAS,EAAGF,CAAC,IAAKA,CAAC,CAACG,GAAG,KAAK,OAAO,IAAI,CAACH,CAAC,CAACI,QAAQ,KAAKJ,CAAC,CAACK,cAAc,CAAC,CAAC,EAAEjC,UAAU,CAAC,CAAC,CAAE;QACzFkC,WAAW,EAAC;MAAsB;QAAAd,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC,CAAC,eACFzC,OAAA;QAAQqD,OAAO,EAAEnC,UAAW;QAAAkB,QAAA,EAAC;MAAC;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACtC,EAAA,CA7EQF,OAAO;AAAAqD,EAAA,GAAPrD,OAAO;AA+EhB,eAAeA,OAAO;AAAC,IAAAqD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}